box: wercker-labs/docker

build:
    steps:
        - script:
            name: Build docker image
            code: |
                docker build -t "lanciv/gogradeapi:latest" .
        - script:
            name: Push docker image
            code: |
                docker push "lanciv/gogradeapi:latest"

# box: wercker/golang
#
# build:
#     steps:
#         - setup-go-workspace
#         - script:
#             name: go env
#             code: |
#                 cd $WERCKER_SOURCE_DIR
#                 go env
#         - script:
#             name: install godep
#             code: |
#                 go get github.com/tools/godep
#         - script:
#             name: restore deps
#             code: |
#                 godep restore ./...
#         - script:
#             name: clean
#             code: |
#                 go clean ./...
#         - script:
#             name: build
#             code: |
#                 go build -o $WERCKER_OUTPUT_DIR/GoGradeAPI main.go
